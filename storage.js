import { NeuralNetwork } from "./nn.js";

export function uploadBrain(type, brain) {
    localStorage.setItem(type, JSON.stringify(brain));
}

export function deleteBrains() {
    localStorage.clear();
}

export let lastBrain = JSON.parse(tryGetItem('last'));
lastBrain = JSON.parse('{"layers":[{"nodes":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}]},{"nodes":[{"bias":-3.981538302399949,"weights":[-5.317859531371752,5.997550780496875,6.550656263513044,5.6412449585730045,-7.079845043341785],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.8593871470706498},{"bias":8.457314253331479,"weights":[-4.293178095143338,-10.536611731502049,-7.417824869040831,4.589040289336102,-2.8988543731270067],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.0000055588456675485595},{"bias":1.8606887100266984,"weights":[-7.486785856944916,-14.495794040570795,3.889984376581439,8.21472839714309,7.67723640770674],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.4158235645553119}]},{"nodes":[{"bias":9.01684690143665,"weights":[-0.2171122986040004,-13.68139473298229,-10.482638130298774],"inputs":[{"bias":-3.981538302399949,"weights":[-5.317859531371752,5.997550780496875,6.550656263513044,5.6412449585730045,-7.079845043341785],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.8593871470706498},{"bias":8.457314253331479,"weights":[-4.293178095143338,-10.536611731502049,-7.417824869040831,4.589040289336102,-2.8988543731270067],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.0000055588456675485595},{"bias":1.8606887100266984,"weights":[-7.486785856944916,-14.495794040570795,3.889984376581439,8.21472839714309,7.67723640770674],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.4158235645553119}],"output":0.9886963254323902},{"bias":-3.9941805261951897,"weights":[-9.89136903079249,-11.224563696130334,-0.27787992736415124],"inputs":[{"bias":-3.981538302399949,"weights":[-5.317859531371752,5.997550780496875,6.550656263513044,5.6412449585730045,-7.079845043341785],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.8593871470706498},{"bias":8.457314253331479,"weights":[-4.293178095143338,-10.536611731502049,-7.417824869040831,4.589040289336102,-2.8988543731270067],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.0000055588456675485595},{"bias":1.8606887100266984,"weights":[-7.486785856944916,-14.495794040570795,3.889984376581439,8.21472839714309,7.67723640770674],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.4158235645553119}],"output":0.0000033374260454344317},{"bias":8.398579431773827,"weights":[-4.746874837179898,5.837252131534997,-14.160897671410183],"inputs":[{"bias":-3.981538302399949,"weights":[-5.317859531371752,5.997550780496875,6.550656263513044,5.6412449585730045,-7.079845043341785],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.8593871470706498},{"bias":8.457314253331479,"weights":[-4.293178095143338,-10.536611731502049,-7.417824869040831,4.589040289336102,-2.8988543731270067],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.0000055588456675485595},{"bias":1.8606887100266984,"weights":[-7.486785856944916,-14.495794040570795,3.889984376581439,8.21472839714309,7.67723640770674],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.4158235645553119}],"output":0.1723267180863987},{"bias":-1.6437959414045316,"weights":[-9.05431760373219,0.15124377700531566,13.23344028952595],"inputs":[{"bias":-3.981538302399949,"weights":[-5.317859531371752,5.997550780496875,6.550656263513044,5.6412449585730045,-7.079845043341785],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.8593871470706498},{"bias":8.457314253331479,"weights":[-4.293178095143338,-10.536611731502049,-7.417824869040831,4.589040289336102,-2.8988543731270067],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.0000055588456675485595},{"bias":1.8606887100266984,"weights":[-7.486785856944916,-14.495794040570795,3.889984376581439,8.21472839714309,7.67723640770674],"inputs":[{"bias":-1.3953667164076773,"weights":[],"inputs":[],"output":1},{"bias":13.791219646881396,"weights":[],"inputs":[],"output":1},{"bias":-12.156894247622612,"weights":[],"inputs":[],"output":1},{"bias":-2.434777915480023,"weights":[],"inputs":[],"output":1},{"bias":-9.0839733309505,"weights":[],"inputs":[],"output":1}],"output":0.4158235645553119}],"output":0.019413484759415872}]}]}');

function tryGetItem(item) {
    if(!localStorage.getItem(item)) {
        uploadBrain(item, new NeuralNetwork(5, 3, 4));
        console.log('Made new brain!');
    }
    return localStorage.getItem(item);
}